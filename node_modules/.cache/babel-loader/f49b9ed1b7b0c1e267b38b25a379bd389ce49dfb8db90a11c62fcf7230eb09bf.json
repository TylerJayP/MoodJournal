{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\tyler\\\\OneDrive\\\\Desktop\\\\JournalV2\\\\src\\\\components\\\\JournalEditor.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { useJournal } from '../context/JournalContext';\nimport MoodSelector from './MoodSelector';\nimport TagSelector from './TagSelector';\nimport PromptGenerator from './PromptGenerator';\nimport PhotoViewer from './PhotoViewer';\nimport SpeechToTextButton from './SpeechToTextButton';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst JournalEditor = () => {\n  _s();\n  const [entry, setEntry] = useState(null);\n  const [prompt, setPrompt] = useState('');\n  const [photoPreview, setPhotoPreview] = useState(null);\n  const [showPhotoViewer, setShowPhotoViewer] = useState(false);\n  const [showPhotoUpload, setShowPhotoUpload] = useState(false); // New state for toggle\n  const {\n    getEntry,\n    updateEntry,\n    createEntry,\n    deleteEntry\n  } = useJournal();\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (id === 'new') {\n      // Check if this is an intentional creation\n      const isIntentionalCreation = sessionStorage.getItem('intentionalCreation');\n      if (isIntentionalCreation) {\n        // Clear the flag\n        sessionStorage.removeItem('intentionalCreation');\n        // Create the entry\n        setEntry(createEntry());\n      } else {\n        // Not an intentional creation, redirect to home page\n        navigate('/');\n      }\n    } else {\n      const foundEntry = getEntry(id);\n      if (foundEntry) {\n        setEntry(foundEntry);\n        // Set photo preview if entry has a photo\n        if (foundEntry.photo) {\n          setPhotoPreview(foundEntry.photo);\n          setShowPhotoUpload(true); // If an entry has a photo, show the photo section\n        }\n      } else {\n        navigate('/');\n      }\n    }\n  }, [id, getEntry, createEntry, navigate]);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    const updatedEntry = {\n      ...entry,\n      [name]: value\n    };\n    setEntry(updatedEntry);\n    updateEntry(updatedEntry);\n  };\n\n  // Toggle handler for photo section\n  const handlePhotoToggle = e => {\n    setShowPhotoUpload(e.target.checked);\n\n    // If unchecking and there was a photo, remove it\n    if (!e.target.checked && photoPreview) {\n      handleRemovePhoto();\n    }\n  };\n\n  // Handler for receiving speech transcript for the main journal entry\n  const handleJournalTranscript = transcript => {\n    if (!entry) return;\n\n    // Append the transcript to the current description, adding a space if needed\n    const currentText = entry.description || '';\n    const updatedText = currentText + (currentText.length > 0 && !currentText.endsWith(' ') ? ' ' : '') + transcript;\n    const updatedEntry = {\n      ...entry,\n      description: updatedText\n    };\n    setEntry(updatedEntry);\n    updateEntry(updatedEntry);\n  };\n\n  // Handler for receiving speech transcript for the gratitude section\n  const handleGratitudeTranscript = transcript => {\n    if (!entry) return;\n\n    // Append the transcript to the current gratitude text, adding a space if needed\n    const currentText = entry.gratitude || '';\n    const updatedText = currentText + (currentText.length > 0 && !currentText.endsWith(' ') ? ' ' : '') + transcript;\n    const updatedEntry = {\n      ...entry,\n      gratitude: updatedText\n    };\n    setEntry(updatedEntry);\n    updateEntry(updatedEntry);\n  };\n  const handleMoodSelect = moods => {\n    const updatedEntry = {\n      ...entry,\n      moods\n    };\n    setEntry(updatedEntry);\n    updateEntry(updatedEntry);\n  };\n  const handleTagsChange = tags => {\n    const updatedEntry = {\n      ...entry,\n      tags\n    };\n    setEntry(updatedEntry);\n    updateEntry(updatedEntry);\n  };\n  const resizeImage = (file, maxWidth = 1200, maxHeight = 1200, quality = 0.8) => {\n    return new Promise(resolve => {\n      // Create a FileReader to read the file\n      const reader = new FileReader();\n\n      // Set up the FileReader onload handler\n      reader.onload = readerEvent => {\n        // Create an image object\n        const img = new Image();\n        img.onload = () => {\n          // Calculate new dimensions\n          let width = img.width;\n          let height = img.height;\n          if (width > height) {\n            if (width > maxWidth) {\n              height *= maxWidth / width;\n              width = maxWidth;\n            }\n          } else {\n            if (height > maxHeight) {\n              width *= maxHeight / height;\n              height = maxHeight;\n            }\n          }\n\n          // Create a canvas with the desired dimensions\n          const canvas = document.createElement('canvas');\n          canvas.width = width;\n          canvas.height = height;\n\n          // Draw the image on the canvas\n          const ctx = canvas.getContext('2d');\n          ctx.drawImage(img, 0, 0, width, height);\n\n          // Get the data from canvas as a dataURL\n          const dataUrl = canvas.toDataURL('image/jpeg', quality);\n\n          // Resolve the promise with the dataURL\n          resolve(dataUrl);\n        };\n\n        // Set the image source to the reader result\n        img.src = readerEvent.target.result;\n      };\n\n      // Read the file as a Data URL\n      reader.readAsDataURL(file);\n    });\n  };\n  const handlePhotoUpload = async e => {\n    const file = e.target.files[0];\n    if (!file) return;\n\n    // Check if file is an image\n    if (!file.type.match('image.*')) {\n      alert('Please select an image file');\n      return;\n    }\n\n    // Check file size (limit to 10MB for initial upload, we'll resize it)\n    if (file.size > 10 * 1024 * 1024) {\n      alert('File size should be less than 10MB');\n      return;\n    }\n    try {\n      // Resize the image\n      const resizedImage = await resizeImage(file);\n\n      // Set the resized image as the photo preview\n      setPhotoPreview(resizedImage);\n\n      // Update entry with the resized image data\n      const updatedEntry = {\n        ...entry,\n        photo: resizedImage\n      };\n      setEntry(updatedEntry);\n      updateEntry(updatedEntry);\n    } catch (error) {\n      console.error('Error processing image:', error);\n      alert('There was an error processing your image. Please try again.');\n    }\n  };\n\n  // Function to handle clicking on the photo\n  const handlePhotoClick = () => {\n    setShowPhotoViewer(true);\n  };\n\n  // Function to remove the photo\n  const handleRemovePhoto = () => {\n    setPhotoPreview(null);\n    const updatedEntry = {\n      ...entry,\n      photo: null,\n      photoCaption: ''\n    };\n    setEntry(updatedEntry);\n    updateEntry(updatedEntry);\n  };\n  const handleDelete = () => {\n    if (window.confirm('Are you sure you want to delete this entry?')) {\n      deleteEntry(entry.id);\n      navigate('/');\n    }\n  };\n  const handleGeneratePrompt = () => {\n    const newPrompt = PromptGenerator.getRandomPrompt();\n    setPrompt(newPrompt);\n\n    // Set the prompt as the title\n    const updatedEntry = {\n      ...entry,\n      title: newPrompt\n    };\n    setEntry(updatedEntry);\n    updateEntry(updatedEntry);\n  };\n  if (!entry) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 217,\n    columnNumber: 22\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"editor\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"editor-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Journal Entry\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/'),\n          className: \"close-button\",\n          children: \"Close\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 11\n        }, this), entry.id && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleDelete,\n          style: {\n            backgroundColor: '#e74c3c',\n            marginLeft: '10px'\n          },\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Date\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"date\",\n      name: \"date\",\n      value: entry.date,\n      onChange: handleChange,\n      className: \"animate-input\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 236,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Your Name\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      value: entry.name,\n      onChange: handleChange,\n      placeholder: \"Enter your name\",\n      className: \"animate-input\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"How are you feeling today?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MoodSelector, {\n      selectedMoods: entry.moods || [],\n      onSelectMood: handleMoodSelect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        marginBottom: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Title\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 258,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleGeneratePrompt,\n        className: \"prompt-button\",\n        style: {\n          marginLeft: '10px'\n        },\n        children: \"Generate Prompt\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }, this), prompt && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"prompt-suggestion\",\n      children: [\"Prompt: \", prompt]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      name: \"title\",\n      value: entry.title,\n      onChange: handleChange,\n      placeholder: \"Enter a title for your entry\",\n      className: \"animate-input\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Tags\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TagSelector, {\n      selectedTags: entry.tags || [],\n      onTagsChange: handleTagsChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Journal Entry\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      name: \"description\",\n      value: entry.description,\n      onChange: handleChange,\n      placeholder: \"Write about your day...\",\n      className: \"animate-input\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SpeechToTextButton, {\n      onTranscriptReceived: handleJournalTranscript,\n      label: \"Too tired to type? Talk it out\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"Gratitude Journal\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gratitude-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"gratitude-description\",\n        children: \"What are you grateful for today?\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        name: \"gratitude\",\n        value: entry.gratitude || '',\n        onChange: handleChange,\n        placeholder: \"List things you're thankful for today...\",\n        className: \"animate-input gratitude-textarea\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SpeechToTextButton, {\n        onTranscriptReceived: handleGratitudeTranscript,\n        label: \"Share your gratitude through voice\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"photo-toggle-container\",\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"photo-toggle-label\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"checkbox\",\n          checked: showPhotoUpload,\n          onChange: handlePhotoToggle,\n          className: \"photo-toggle-checkbox\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"photo-toggle-text\",\n          children: \"Include a photo highlight for today?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 320,\n      columnNumber: 7\n    }, this), showPhotoUpload && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"photo-section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"photo-upload-container\",\n        children: !photoPreview ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"photo-upload-area\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            id: \"photo-upload\",\n            accept: \"image/*\",\n            onChange: handlePhotoUpload,\n            style: {\n              display: 'none'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"photo-upload\",\n            className: \"photo-upload-button\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"upload-icon\",\n              children: \"\\uD83D\\uDCF7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Upload a Photo Highlight\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 345,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"photo-upload-help\",\n            children: \"Add a photo that captures a special moment from your day\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"photo-preview-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"photo-preview-wrapper\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: photoPreview,\n              alt: \"Your uploaded photo\",\n              className: \"photo-preview\",\n              onClick: handlePhotoClick,\n              style: {\n                cursor: 'pointer'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"photo-caption-container\",\n            children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"photoCaption\",\n              value: entry.photoCaption || '',\n              onChange: handleChange,\n              placeholder: \"Why did you choose this photo? What makes it special?\",\n              className: \"animate-input photo-caption-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"photo-actions\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleRemovePhoto,\n              className: \"remove-photo-button\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"remove-icon\",\n                children: \"\\uD83D\\uDDD1\\uFE0F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Remove Photo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 334,\n      columnNumber: 9\n    }, this), showPhotoViewer && photoPreview && /*#__PURE__*/_jsxDEV(PhotoViewer, {\n      photoSrc: photoPreview,\n      caption: entry.photoCaption,\n      onClose: () => setShowPhotoViewer(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 220,\n    columnNumber: 5\n  }, this);\n};\n_s(JournalEditor, \"c0grt1ZKiWN4T9zazXbd1mc4lvA=\", false, function () {\n  return [useJournal, useParams, useNavigate];\n});\n_c = JournalEditor;\nexport default JournalEditor;\nvar _c;\n$RefreshReg$(_c, \"JournalEditor\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","useJournal","MoodSelector","TagSelector","PromptGenerator","PhotoViewer","SpeechToTextButton","jsxDEV","_jsxDEV","JournalEditor","_s","entry","setEntry","prompt","setPrompt","photoPreview","setPhotoPreview","showPhotoViewer","setShowPhotoViewer","showPhotoUpload","setShowPhotoUpload","getEntry","updateEntry","createEntry","deleteEntry","id","navigate","isIntentionalCreation","sessionStorage","getItem","removeItem","foundEntry","photo","handleChange","e","name","value","target","updatedEntry","handlePhotoToggle","checked","handleRemovePhoto","handleJournalTranscript","transcript","currentText","description","updatedText","length","endsWith","handleGratitudeTranscript","gratitude","handleMoodSelect","moods","handleTagsChange","tags","resizeImage","file","maxWidth","maxHeight","quality","Promise","resolve","reader","FileReader","onload","readerEvent","img","Image","width","height","canvas","document","createElement","ctx","getContext","drawImage","dataUrl","toDataURL","src","result","readAsDataURL","handlePhotoUpload","files","type","match","alert","size","resizedImage","error","console","handlePhotoClick","photoCaption","handleDelete","window","confirm","handleGeneratePrompt","newPrompt","getRandomPrompt","title","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","style","backgroundColor","marginLeft","date","onChange","placeholder","selectedMoods","onSelectMood","display","alignItems","marginBottom","selectedTags","onTagsChange","onTranscriptReceived","label","accept","htmlFor","alt","cursor","photoSrc","caption","onClose","_c","$RefreshReg$"],"sources":["C:/Users/tyler/OneDrive/Desktop/JournalV2/src/components/JournalEditor.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { useJournal } from '../context/JournalContext';\nimport MoodSelector from './MoodSelector';\nimport TagSelector from './TagSelector';\nimport PromptGenerator from './PromptGenerator';\nimport PhotoViewer from './PhotoViewer';\nimport SpeechToTextButton from './SpeechToTextButton';\n\nconst JournalEditor = () => {\n  const [entry, setEntry] = useState(null);\n  const [prompt, setPrompt] = useState('');\n  const [photoPreview, setPhotoPreview] = useState(null);\n  const [showPhotoViewer, setShowPhotoViewer] = useState(false);\n  const [showPhotoUpload, setShowPhotoUpload] = useState(false); // New state for toggle\n  const { getEntry, updateEntry, createEntry, deleteEntry } = useJournal();\n  const { id } = useParams();\n  const navigate = useNavigate();\n  \n  useEffect(() => {\n    if (id === 'new') {\n      // Check if this is an intentional creation\n      const isIntentionalCreation = sessionStorage.getItem('intentionalCreation');\n      if (isIntentionalCreation) {\n        // Clear the flag\n        sessionStorage.removeItem('intentionalCreation');\n        // Create the entry\n        setEntry(createEntry());\n      } else {\n        // Not an intentional creation, redirect to home page\n        navigate('/');\n      }\n    } else {\n      const foundEntry = getEntry(id);\n      if (foundEntry) {\n        setEntry(foundEntry);\n        // Set photo preview if entry has a photo\n        if (foundEntry.photo) {\n          setPhotoPreview(foundEntry.photo);\n          setShowPhotoUpload(true); // If an entry has a photo, show the photo section\n        }\n      } else {\n        navigate('/');\n      }\n    }\n  }, [id, getEntry, createEntry, navigate]);\n  \n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    const updatedEntry = { ...entry, [name]: value };\n    setEntry(updatedEntry);\n    updateEntry(updatedEntry);\n  };\n  \n  // Toggle handler for photo section\n  const handlePhotoToggle = (e) => {\n    setShowPhotoUpload(e.target.checked);\n    \n    // If unchecking and there was a photo, remove it\n    if (!e.target.checked && photoPreview) {\n      handleRemovePhoto();\n    }\n  };\n  \n  // Handler for receiving speech transcript for the main journal entry\n  const handleJournalTranscript = (transcript) => {\n    if (!entry) return;\n    \n    // Append the transcript to the current description, adding a space if needed\n    const currentText = entry.description || '';\n    const updatedText = currentText + (currentText.length > 0 && !currentText.endsWith(' ') ? ' ' : '') + transcript;\n    \n    const updatedEntry = { ...entry, description: updatedText };\n    setEntry(updatedEntry);\n    updateEntry(updatedEntry);\n  };\n  \n  // Handler for receiving speech transcript for the gratitude section\n  const handleGratitudeTranscript = (transcript) => {\n    if (!entry) return;\n    \n    // Append the transcript to the current gratitude text, adding a space if needed\n    const currentText = entry.gratitude || '';\n    const updatedText = currentText + (currentText.length > 0 && !currentText.endsWith(' ') ? ' ' : '') + transcript;\n    \n    const updatedEntry = { ...entry, gratitude: updatedText };\n    setEntry(updatedEntry);\n    updateEntry(updatedEntry);\n  };\n  \n  const handleMoodSelect = (moods) => {\n    const updatedEntry = { ...entry, moods };\n    setEntry(updatedEntry);\n    updateEntry(updatedEntry);\n  };\n  \n  const handleTagsChange = (tags) => {\n    const updatedEntry = { ...entry, tags };\n    setEntry(updatedEntry);\n    updateEntry(updatedEntry);\n  };\n  \n  const resizeImage = (file, maxWidth = 1200, maxHeight = 1200, quality = 0.8) => {\n    return new Promise((resolve) => {\n      // Create a FileReader to read the file\n      const reader = new FileReader();\n      \n      // Set up the FileReader onload handler\n      reader.onload = (readerEvent) => {\n        // Create an image object\n        const img = new Image();\n        img.onload = () => {\n          // Calculate new dimensions\n          let width = img.width;\n          let height = img.height;\n          \n          if (width > height) {\n            if (width > maxWidth) {\n              height *= maxWidth / width;\n              width = maxWidth;\n            }\n          } else {\n            if (height > maxHeight) {\n              width *= maxHeight / height;\n              height = maxHeight;\n            }\n          }\n          \n          // Create a canvas with the desired dimensions\n          const canvas = document.createElement('canvas');\n          canvas.width = width;\n          canvas.height = height;\n          \n          // Draw the image on the canvas\n          const ctx = canvas.getContext('2d');\n          ctx.drawImage(img, 0, 0, width, height);\n          \n          // Get the data from canvas as a dataURL\n          const dataUrl = canvas.toDataURL('image/jpeg', quality);\n          \n          // Resolve the promise with the dataURL\n          resolve(dataUrl);\n        };\n        \n        // Set the image source to the reader result\n        img.src = readerEvent.target.result;\n      };\n      \n      // Read the file as a Data URL\n      reader.readAsDataURL(file);\n    });\n  };\n  \n  const handlePhotoUpload = async (e) => {\n    const file = e.target.files[0];\n    if (!file) return;\n    \n    // Check if file is an image\n    if (!file.type.match('image.*')) {\n      alert('Please select an image file');\n      return;\n    }\n    \n    // Check file size (limit to 10MB for initial upload, we'll resize it)\n    if (file.size > 10 * 1024 * 1024) {\n      alert('File size should be less than 10MB');\n      return;\n    }\n    \n    try {\n      // Resize the image\n      const resizedImage = await resizeImage(file);\n      \n      // Set the resized image as the photo preview\n      setPhotoPreview(resizedImage);\n      \n      // Update entry with the resized image data\n      const updatedEntry = { ...entry, photo: resizedImage };\n      setEntry(updatedEntry);\n      updateEntry(updatedEntry);\n    } catch (error) {\n      console.error('Error processing image:', error);\n      alert('There was an error processing your image. Please try again.');\n    }\n  };\n  \n  // Function to handle clicking on the photo\n  const handlePhotoClick = () => {\n    setShowPhotoViewer(true);\n  };\n  \n  // Function to remove the photo\n  const handleRemovePhoto = () => {\n    setPhotoPreview(null);\n    const updatedEntry = { ...entry, photo: null, photoCaption: '' };\n    setEntry(updatedEntry);\n    updateEntry(updatedEntry);\n  };\n  \n  const handleDelete = () => {\n    if (window.confirm('Are you sure you want to delete this entry?')) {\n      deleteEntry(entry.id);\n      navigate('/');\n    }\n  };\n\n  const handleGeneratePrompt = () => {\n    const newPrompt = PromptGenerator.getRandomPrompt();\n    setPrompt(newPrompt);\n    \n    // Set the prompt as the title\n    const updatedEntry = { ...entry, title: newPrompt };\n    setEntry(updatedEntry);\n    updateEntry(updatedEntry);\n  };\n  \n  if (!entry) return <div>Loading...</div>;\n  \n  return (\n    <div className=\"editor\">\n      <div className=\"editor-header\">\n        <h2>Journal Entry</h2>\n        <div>\n          <button onClick={() => navigate('/')} className=\"close-button\">\n            Close\n          </button>\n          {entry.id && (\n            <button onClick={handleDelete} style={{ backgroundColor: '#e74c3c', marginLeft: '10px' }}>\n              Delete\n            </button>\n          )}\n        </div>\n      </div>\n      \n      <label>Date</label>\n      <input\n        type=\"date\"\n        name=\"date\"\n        value={entry.date}\n        onChange={handleChange}\n        className=\"animate-input\"\n      />\n      \n      <label>Your Name</label>\n      <input\n        type=\"text\"\n        name=\"name\"\n        value={entry.name}\n        onChange={handleChange}\n        placeholder=\"Enter your name\"\n        className=\"animate-input\"\n      />\n      \n      <label>How are you feeling today?</label>\n      <MoodSelector selectedMoods={entry.moods || []} onSelectMood={handleMoodSelect} />\n      \n      <div style={{ display: 'flex', alignItems: 'center', marginBottom: '10px' }}>\n        <label>Title</label>\n        <button onClick={handleGeneratePrompt} className=\"prompt-button\" style={{ marginLeft: '10px' }}>\n          Generate Prompt\n        </button>\n      </div>\n      \n      {prompt && (\n        <div className=\"prompt-suggestion\">\n          Prompt: {prompt}\n        </div>\n      )}\n      \n      <input\n        type=\"text\"\n        name=\"title\"\n        value={entry.title}\n        onChange={handleChange}\n        placeholder=\"Enter a title for your entry\"\n        className=\"animate-input\"\n      />\n      \n      <label>Tags</label>\n      <TagSelector\n        selectedTags={entry.tags || []}\n        onTagsChange={handleTagsChange}\n      />\n      \n      <label>Journal Entry</label>\n      <textarea\n        name=\"description\"\n        value={entry.description}\n        onChange={handleChange}\n        placeholder=\"Write about your day...\"\n        className=\"animate-input\"\n      />\n      \n      {/* Enhanced Speech-to-Text for Journal Entry */}\n      <SpeechToTextButton \n        onTranscriptReceived={handleJournalTranscript}\n        label=\"Too tired to type? Talk it out\"\n      />\n      \n      {/* Gratitude Section */}\n      <label>Gratitude Journal</label>\n      <div className=\"gratitude-container\">\n        <p className=\"gratitude-description\">What are you grateful for today?</p>\n        <textarea\n          name=\"gratitude\"\n          value={entry.gratitude || ''}\n          onChange={handleChange}\n          placeholder=\"List things you're thankful for today...\"\n          className=\"animate-input gratitude-textarea\"\n        />\n        \n        {/* Enhanced Speech-to-Text for Gratitude */}\n        <SpeechToTextButton \n          onTranscriptReceived={handleGratitudeTranscript}\n          label=\"Share your gratitude through voice\"\n        />\n      </div>\n      \n      {/* Photo Toggle - Moved to bottom */}\n      <div className=\"photo-toggle-container\">\n        <label className=\"photo-toggle-label\">\n          <input \n            type=\"checkbox\" \n            checked={showPhotoUpload}\n            onChange={handlePhotoToggle}\n            className=\"photo-toggle-checkbox\"\n          />\n          <span className=\"photo-toggle-text\">Include a photo highlight for today?</span>\n        </label>\n      </div>\n      \n      {/* Photo of the Day Section - Only show when toggled on */}\n      {showPhotoUpload && (\n        <div className=\"photo-section\">\n          <div className=\"photo-upload-container\">\n            {!photoPreview ? (\n              <div className=\"photo-upload-area\">\n                <input\n                  type=\"file\"\n                  id=\"photo-upload\"\n                  accept=\"image/*\"\n                  onChange={handlePhotoUpload}\n                  style={{ display: 'none' }}\n                />\n                <label htmlFor=\"photo-upload\" className=\"photo-upload-button\">\n                  <div className=\"upload-icon\">📷</div>\n                  <span>Upload a Photo Highlight</span>\n                </label>\n                <p className=\"photo-upload-help\">\n                  Add a photo that captures a special moment from your day\n                </p>\n              </div>\n            ) : (\n              <div className=\"photo-preview-container\">\n                <div className=\"photo-preview-wrapper\">\n                  <img \n                    src={photoPreview} \n                    alt=\"Your uploaded photo\" \n                    className=\"photo-preview\" \n                    onClick={handlePhotoClick}\n                    style={{ cursor: 'pointer' }}\n                  />\n                </div>\n                <div className=\"photo-caption-container\">\n                  <textarea\n                    name=\"photoCaption\"\n                    value={entry.photoCaption || ''}\n                    onChange={handleChange}\n                    placeholder=\"Why did you choose this photo? What makes it special?\"\n                    className=\"animate-input photo-caption-input\"\n                  />\n                </div>\n                <div className=\"photo-actions\">\n                  <button \n                    onClick={handleRemovePhoto}\n                    className=\"remove-photo-button\"\n                  >\n                    <span className=\"remove-icon\">🗑️</span>\n                    <span>Remove Photo</span>\n                  </button>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n      \n      {/* Photo Viewer */}\n      {showPhotoViewer && photoPreview && (\n        <PhotoViewer \n          photoSrc={photoPreview}\n          caption={entry.photoCaption}\n          onClose={() => setShowPhotoViewer(false)} \n        />\n      )}\n    </div>\n  );\n};\n\nexport default JournalEditor;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}